{"ast":null,"code":"var _jsxFileName = \"/home/fabien/Bureau/Qu\\xEAtes/REACT/React 13/react-13 challenge/src/components/FormMovies.jsx\";\nimport React, { Component } from 'react';\n\nclass FormMovies extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      poster: '',\n      comment: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.submitForm = this.submitForm.bind(this); // this.PostMovie = this.PostMovie.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  } // PostMovie(){\n  //   const config = {\n  //     method: \"POST\",\n  //     headers: {\n  //     \"Content-Type\": \"application/json\",\n  //   },\n  //   body: JSON.stringify(this.state),\n  // };\n  // const url = \" https://post-a-form.herokuapp.com/api/movies/\";\n  // fetch(url,config)\n  //   .then(res => res.json())\n  //   .then(res => {\n  //     if (res.error) {\n  //       alert(res.error);\n  //     } else {\n  //       alert(`Film ajouté avec l'ID ${res}!`);\n  //     }\n  //   }).catch(e => {\n  //     console.error(e);\n  //     alert('Erreur lors de l ajout d un film');\n  //   });\n  // }\n\n\n  submitForm(e) {\n    e.preventDefault();\n    const url = \"https://post-a-form.herokuapp.com/api/movies/\";\n    const config = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state)\n    };\n    fetch(url, config).then(res => res.json()).then(res => {\n      if (res.error) {\n        alert(res.error);\n      } else {\n        alert(\"Film ajout\\xE9 avec l'ID \".concat(res, \"!\"));\n      }\n    }).catch(e => {\n      console.error(e);\n      alert(\"Erreur lors de l'ajout du film\");\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"FormMovies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Saisi d'un film\"), React.createElement(\"form\", {\n      onSubmit: this.submitForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"legend\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Informations\"), React.createElement(\"div\", {\n      className: \"form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Titre\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"title\",\n      name: \"title\",\n      onChange: this.onChange,\n      value: this.state.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"poster\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Adresse du poster\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"poster\",\n      name: \"poster\",\n      onChange: this.onChange,\n      value: this.state.poster,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Comment\"), React.createElement(\"input\", {\n      type: \"textarea\",\n      id: \"comment\",\n      name: \"comment\",\n      onChange: this.onChange,\n      value: this.state.comment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Envoyer\" // onClick= {this.PostMovie}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default FormMovies;","map":{"version":3,"sources":["/home/fabien/Bureau/Quêtes/REACT/React 13/react-13 challenge/src/components/FormMovies.jsx"],"names":["React","Component","FormMovies","constructor","props","state","title","poster","comment","onChange","bind","submitForm","e","setState","target","name","value","preventDefault","url","config","method","headers","body","JSON","stringify","fetch","then","res","json","error","alert","catch","console","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\n\nclass FormMovies extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          title: '',\n          poster: '',\n          comment: '',\n        }\n        this.onChange = this.onChange.bind(this);\n        this.submitForm = this.submitForm.bind(this);\n        // this.PostMovie = this.PostMovie.bind(this);\n    }\n    onChange(e) {\n        this.setState({\n          [e.target.name]: e.target.value,\n        });\n    }\n    \n    // PostMovie(){\n     \n    //   const config = {\n    //     method: \"POST\",\n    //     headers: {\n    //     \"Content-Type\": \"application/json\",\n    //   },\n    //   body: JSON.stringify(this.state),\n    // };\n\n    // const url = \" https://post-a-form.herokuapp.com/api/movies/\";\n\n    // fetch(url,config)\n    //   .then(res => res.json())\n    //   .then(res => {\n    //     if (res.error) {\n    //       alert(res.error);\n    //     } else {\n    //       alert(`Film ajouté avec l'ID ${res}!`);\n    //     }\n    //   }).catch(e => {\n    //     console.error(e);\n    //     alert('Erreur lors de l ajout d un film');\n    //   });\n    // }\n    submitForm(e) {\n      e.preventDefault();\n      const url = \"https://post-a-form.herokuapp.com/api/movies/\";\n      const config = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(this.state),\n    };\n\n    fetch(url, config)\n        .then(res => res.json())\n        .then(res => {\n            if (res.error) {\n                alert(res.error);\n            } else {\n                alert(`Film ajouté avec l'ID ${res}!`);\n            }\n        }).catch(e => {\n            console.error(e);\n            alert(\"Erreur lors de l'ajout du film\");\n        });\n    };\n\n\n    render(){\n      return(\n        <div className=\"FormMovies\">\n          <h1>Saisi d'un film</h1>\n\n          <form onSubmit={this.submitForm}>\n            <fieldset>\n            <legend>Informations</legend>\n            <div className=\"form-data\">\n\n              <label htmlFor=\"title\">Titre</label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                name=\"title\"\n                onChange={this.onChange}\n                value={this.state.title}\n              />\n            </div>\n\n            <div className=\"form-data\">\n              <label htmlFor=\"poster\">Adresse du poster</label>\n              <input\n                type=\"text\"\n                id=\"poster\"\n                name=\"poster\"\n                onChange={this.onChange}\n                value={this.state.poster}\n              />\n            </div>\n\n            <div className=\"form-data\">\n              <label htmlFor=\"comment\">Comment</label>\n              <input\n                type=\"textarea\"\n                id=\"comment\"\n                name=\"comment\"\n                onChange={this.onChange}\n                value={this.state.comment}\n              />\n            </div>\n          <hr />\n            <div className=\"form-data\">\n              <input \n              type=\"submit\" \n              value=\"Envoyer\" \n              // onClick= {this.PostMovie}\n              />\n            </div>\n            </fieldset>\n          </form>\n        </div>\n      )\n    }\n}\n\n\n\nexport default FormMovies;"]},"metadata":{},"sourceType":"module"}